<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Patrick E. McKnight">
<meta name="author" content="Simone C. McKnight">
<meta name="dcterms.date" content="2023-11-10">
<meta name="keywords" content="Statistical Power, Simulation, R/shiny">

<title>Simulating data to estimate power</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="PresentationPowerSimulation_files/libs/clipboard/clipboard.min.js"></script>
<script src="PresentationPowerSimulation_files/libs/quarto-html/quarto.js"></script>
<script src="PresentationPowerSimulation_files/libs/quarto-html/popper.min.js"></script>
<script src="PresentationPowerSimulation_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="PresentationPowerSimulation_files/libs/quarto-html/anchor.min.js"></script>
<link href="PresentationPowerSimulation_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="PresentationPowerSimulation_files/libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="PresentationPowerSimulation_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="PresentationPowerSimulation_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="PresentationPowerSimulation_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="dark">

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body>

<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Simulating data to estimate power</h1>
            <p class="subtitle lead">Level up from G*Power</p>
                      </div>
  </div>
    
  <div class="quarto-title-meta-author">
    <div class="quarto-title-meta-heading">Authors</div>
    <div class="quarto-title-meta-heading">Affiliations</div>
    
      <div class="quarto-title-meta-contents">
      <p class="author">Patrick E. McKnight <a href="https://orcid.org/0000-0002-9067-9066" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a></p>
    </div>
      <div class="quarto-title-meta-contents">
          <p class="affiliation">
              <a href="https://www.mres-gmu.org">
              George Mason University
              </a>
            </p>
        </div>
        <div class="quarto-title-meta-contents">
      <p class="author">Simone C. McKnight </p>
    </div>
      <div class="quarto-title-meta-contents">
          <p class="affiliation">
              <a href="google.com">
              McKnight Consulting, LLC
              </a>
            </p>
        </div>
      </div>

  <div class="quarto-title-meta">

        
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">November 10, 2023</p>
      </div>
    </div>
    
      
    </div>
    
  <div>
    <div class="abstract">
      <div class="abstract-title">Abstract</div>
      <p>Power - the probably of success in the frequentist world - gets attention mostly out of necessity. Many see power analyses as a hurdle to get funding while others treat it as privileged domain for the technically capable. Neither reality need be true in this brave new world. We plan to shed a different light on the topic by demonstrating power analysis by simulation. No, we are not using large language models to estimate power but we are using the power of randomization to generate data and, in turn, power estimates. You will learn that you too can do the very same with little to no technical knowledge. Come, learn, and later teach us after you perfect the techniques.</p>
    </div>
  </div>
  
  </header><div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#housekeeping" id="toc-housekeeping" class="nav-link active" data-scroll-target="#housekeeping">Housekeeping</a></li>
  <li><a href="#what-is-statistical-power" id="toc-what-is-statistical-power" class="nav-link" data-scroll-target="#what-is-statistical-power">What is Statistical Power?</a>
  <ul class="collapse">
  <li><a href="#nhst" id="toc-nhst" class="nav-link" data-scroll-target="#nhst">NHST</a></li>
  <li><a href="#power" id="toc-power" class="nav-link" data-scroll-target="#power">Power</a></li>
  <li><a href="#bias-in-estimation" id="toc-bias-in-estimation" class="nav-link" data-scroll-target="#bias-in-estimation">Bias in Estimation</a></li>
  <li><a href="#the-big-power-picture" id="toc-the-big-power-picture" class="nav-link" data-scroll-target="#the-big-power-picture">The Big Power Picture</a>
  <ul class="collapse">
  <li><a href="#sample-size" id="toc-sample-size" class="nav-link" data-scroll-target="#sample-size">Sample Size</a></li>
  <li><a href="#effect-size" id="toc-effect-size" class="nav-link" data-scroll-target="#effect-size">Effect Size</a></li>
  </ul></li>
  <li><a href="#calculating-power" id="toc-calculating-power" class="nav-link" data-scroll-target="#calculating-power">Calculating Power</a>
  <ul class="collapse">
  <li><a href="#power-calculation-code-inspection-t-test" id="toc-power-calculation-code-inspection-t-test" class="nav-link" data-scroll-target="#power-calculation-code-inspection-t-test">Power Calculation Code Inspection (t-test)</a></li>
  <li><a href="#whats-the-effect" id="toc-whats-the-effect" class="nav-link" data-scroll-target="#whats-the-effect">What’s the effect?</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#why-are-point-estimates-of-statistical-power-of-limited-use" id="toc-why-are-point-estimates-of-statistical-power-of-limited-use" class="nav-link" data-scroll-target="#why-are-point-estimates-of-statistical-power-of-limited-use">Why are point estimates of statistical power of limited use?</a></li>
  <li><a href="#how-do-i-simulate-effects" id="toc-how-do-i-simulate-effects" class="nav-link" data-scroll-target="#how-do-i-simulate-effects">How do I simulate effects?</a>
  <ul class="collapse">
  <li><a href="#basic-sampling" id="toc-basic-sampling" class="nav-link" data-scroll-target="#basic-sampling">Basic Sampling</a>
  <ul class="collapse">
  <li><a href="#univariate-playground" id="toc-univariate-playground" class="nav-link" data-scroll-target="#univariate-playground">Univariate Playground</a></li>
  <li><a href="#multi-mean-playground" id="toc-multi-mean-playground" class="nav-link" data-scroll-target="#multi-mean-playground">Multi-Mean Playground</a></li>
  </ul></li>
  <li><a href="#regression-anyone" id="toc-regression-anyone" class="nav-link" data-scroll-target="#regression-anyone">Regression Anyone?</a></li>
  <li><a href="#anova-models" id="toc-anova-models" class="nav-link" data-scroll-target="#anova-models">ANOVA models</a></li>
  <li><a href="#linear-mixed-effects-models-lmer" id="toc-linear-mixed-effects-models-lmer" class="nav-link" data-scroll-target="#linear-mixed-effects-models-lmer">Linear Mixed Effects Models (lmer)</a></li>
  <li><a href="#longitudinal-data-analysis" id="toc-longitudinal-data-analysis" class="nav-link" data-scroll-target="#longitudinal-data-analysis">Longitudinal Data Analysis</a></li>
  <li><a href="#structural-equations-modeling" id="toc-structural-equations-modeling" class="nav-link" data-scroll-target="#structural-equations-modeling">Structural Equations Modeling</a></li>
  </ul></li>
  <li><a href="#where-can-i-go-for-more-help" id="toc-where-can-i-go-for-more-help" class="nav-link" data-scroll-target="#where-can-i-go-for-more-help">Where can I go for more help?</a></li>
  </ul>
</nav>
</div>
<main class="content quarto-banner-title-block" id="quarto-document-content">




<p>Estimating power can be challenging for most of us. Even the seasoned academic finds computing statistical power beyond reach. The concepts are simple enough but the complexities of either the software or the models leaves many to offload the work to more expert data analysts. Those analysts often rely on the same complex software to estimate complex models in the least intuitive manner. Here, we reintroduce the simple concepts of statistical power and then offer an alternative set of procedures that we hope leads more to assume control of their own data analyses.</p>
<p>After today, you will be able to answser (correctly) the following questions:</p>
<ol type="1">
<li><a href="#what-is-statistical-power">What is statistical power?</a></li>
<li><a href="#why-are-point-estimates-of-statistical-power-of-limited-use">Why are point estimates of statistical power of limited use?</a></li>
<li><a href="#how-do-i-simulate-effects">How do I simulate effects?</a></li>
<li><a href="#where-can-i-go-for-more-help">Where can I go for more help?</a></li>
</ol>
<p>If you think you can answer each without much hesitation, sit back and enjoy the show; otherwise, sit up, grab your own computer, load this file, and get ready to learn!</p>
<div class="cell">
<details>
<summary>Show the Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ANYONE PAYING </span><span class="al">ATTENTION</span><span class="co"> TO THE CODE?</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<hr>
<p><strong>REFRESHER</strong></p>
<blockquote class="blockquote">
<p>For those who might need a wee bit of a refresher on hypothesis testing, I recommend you visit <a href="https://www.khanacademy.org/math/statistics-probability/significance-tests-one-sample" target="_blank">our good ol’ friend Sal Kahn</a>. He does a lovely job explaining the rudiments of null hypothesis significance testing (NHST) - certainly sufficient enough for this presentation. (38 mins of video and 3 practice sessions - FREE …as in beer)</p>
</blockquote>
<hr>
<section id="housekeeping" class="level1">
<h1>Housekeeping</h1>
<p>Setup the R environment for the remainder of the talk. Be sure to install all these required libraries in your R environment.</p>
<div class="cell">
<details>
<summary>Show the Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">'paramtest'</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">'pwr'</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">'ggplot2'</span>)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">'ggthemes'</span>)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">'xkcd'</span>)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">'knitr'</span>)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">'nlme'</span>)</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">'lavaan'</span>)</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">'dplyr'</span>)</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">'bslib'</span>) <span class="co"># the prime driver here for UI</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">'simpr'</span>)</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">'tidyverse'</span>)</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">'shiny'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="what-is-statistical-power" class="level1">
<h1>What is Statistical Power?</h1>
<p>Before we talk about power, we need to address null hypothesis significance testing (NHST). Why? Well, power is the probability of success in the NHST world and, really, only in that world. If you don’t understand that world then how can you understand power? You can’t. So, let’s dive into this NHST world first and then come back to power.</p>
<section id="nhst" class="level2">
<h2 class="anchored" data-anchor-id="nhst">NHST</h2>
<p>The world of social science statistics largely revolves around the same inferential approach. We have a theory (Dogs are superior to cats).</p>
<p><span class="math display">\[
Dog &gt;&gt; cat
\]</span></p>
<p>That theory gets translated into an operation (Dog people are smarter than cat people).</p>
<p><span class="math display">\[
H: \bar{X}_{IQ|Dog} &gt; \bar{X}_{IQ|cat}
\]</span></p>
<p>That operation is what we hope to discover as the difference necessary to support our hypothesis that dogs are superior to cats. It wouldn’t matter what measure you collected, dogs would always outperform cats.</p>
<p>BUT we don’t test that difference directly. Instead, we test the null. What is the null you ask? The null is really the nil or, quite simply that there is no difference (Dog people are equal to cat people).</p>
<p><span class="math display">\[
H_0: \bar{X}_{Dog} = \bar{X}_{cat}
\]</span></p>
<p>Now, why would we go to great lengths to make our tested difference (<span class="math inline">\(Dogs = cats\)</span>) to be different from our expected difference (<span class="math inline">\(Dogs \gt cats\)</span>)? A good question <a href="https://allendowney.blogspot.com/2016/05/learning-to-love-bayesian-statistics.html" target="_blank">beyond the reach of this presentation</a>. Since we go through these machinations, let’s learn to live there for a moment so we can understand the nature of power in NHST. Also, at this point, I need to weigh in on my Bayesian class this spring (PSYC 757; register NOW). Given that we need to use this null with the common statistics, we ought to know where it fits into the whole hypothesis testing world. Here is where the beloved (or reviled) <span class="math inline">\(p-value\)</span> comes into our story. The null hypothesis fits with the <span class="math inline">\(p-value\)</span> here:</p>
<p><span class="math display">\[
\mbox{p-value} \equiv P(Result | H_0)
\]</span> or, for our running example with a fabricated difference between Dog and cat people:</p>
<p><span class="math display">\[
\mbox{p-value} = P(t = 2.23 | H_0)
\]</span></p>
<p>and where…</p>
<p><span class="math display">\[
t = \frac{\bar{X}_1 - \bar{X}_2}{SE} =\frac{\bar{X}_{IQ|Dog} - \bar{X}_{IQ|cat}}{\sqrt{\frac{s_{ID|Dog}^2}{n_{Dog}} + \frac{s_{ID|cat}^2}{n_{cat}}}} = 2.23
\]</span> Remember, I made up this result so all you cat lovers can just relax.</p>
<p>What does that <span class="math inline">\(\mbox{math speak}\)</span> really mean and what values can we expect from each? Good questions.</p>
<p><span class="math display">\[
P(): \mbox{Probablity; range: 0 - 1}
\]</span></p>
<p><span class="math display">\[
Result:  \mbox{Statistic computed (mean difference); range: } -\infty - +\infty
\]</span> In the example above, we used the t-statistic to get an estimate of the result.</p>
<p><span class="math display">\[
H_0: \mbox{Null Hypothesis } (Dogs = cats)
\]</span></p>
<p>Given the null (i.e., the hypothesis we usually are NOT interested in testing), what is the probability of getting these results? The reason we wish to know this probability is to rule out the null hypothesis. Many interpret this as “ruling out chance” but we do nothing of the sort. What we test is the inconsistency of our empirical results from the expected results of the null or no differences. When the inconsistency is large enough, we say that it differs “significantly” from the null and, as a result, we rule out the null. The truth of the matter is that we can never fully rule out the null nor can we accept the null. The evidence just needs to be inconsistent enough to cross the a pre-defined threshold (<span class="math inline">\(p_{crit} = .05\)</span> or <span class="math inline">\(95\%\)</span> confidence). In short, we need to expect those results to occur only 5% of the time given the null - a level of comfort known only to the farmers in rural England (c.&nbsp;1920s). We scientists may have differing empirical comforts but those standards remain. Social scientists continue to use 95% confidence limits on most, if not all NHST models and effects.</p>
<p>But what are these results that I refer to above? The results come from data computations that convey either a difference between means (e.g., t-test, F-test, etc.) or an association (e.g., r, beta/b, etc.). For example, we might be interested in the mean difference between reported happiness for dog and cat lovers. Often, students find this part to be the hardest and, admittedly, it can be quite challenging. We must “operationalize” the mean difference into a scale that reflects the difference but also has a known shape. Why? Well, the difference is the part that we wish to test but we need to have a difference that can be communicated by a known shape because that shape allows us to estimate probabilities without much effort. In short, the shape makes the math easier.</p>
<p>We hope to have low probability estimates of our data to be consistent with the null. Why? We want results that are inconsistent with what we never hypothesized - the null. Frequently, we fail to get the desired result; thus, we fail to reject the null. Many areas within social science require statistical significance for publication. That requirement appears to be softening now but the road to scientific success in the frequentist world is paved with significant effects (i.e., ruling out the null). Failure to reject the null means more work and, more than likely, more failure. Those failures, however, are often quite predictable. They are predictable because most studies lack the statistical power. Yes, your failures to reject the null are almost entirely due to low statistical power. Wouldn’t it be nice to have a forecast for your success? I think so. How might we make such forecasts? By estimation.</p>
</section>
<section id="power" class="level2">
<h2 class="anchored" data-anchor-id="power">Power</h2>
<p>The best way to guess your chances of success…er, rejecting the null, is to <strong>estimate</strong> statistical power. Estimating statistical power can be quite challenging - even for the seasoned data analyst. Most of us rely on standard methods to get point estimates or single values (presumably to be reported elsewhere). These point estimates come from stand-alone packages (e.g., <a href="https://www.psychologie.hhu.de/arbeitsgruppen/allgemeine-psychologie-und-arbeitspsychologie/gpower" target="_blank">G*Power</a>, <a href="https://homepage.stat.uiowa.edu/~rlenth/Power/" target="_blank">piface Java app</a>), web pages (e.g., <a href="https://webpower.psychstat.org/wiki/" target="_blank">WebPower</a>, <a href="https://powerupr.shinyapps.io/index/" target="_blank">PowerUpR</a>, <a href="https://powerandsamplesize.com/" target="_blank">powerandsamplesize.com</a>), or packages for statistical (<a href="https://cran.r-project.org/web/packages/pwrss/vignettes/examples.html" target="_blank">R</a>, <a href="https://www.ibm.com/docs/en/spss-statistics/27.0.0?topic=features-power-analysis#d333391e103" target="_blank">SPSS</a>) or general programming (<a href="https://pypi.org/project/power-analysis/" target="_blank">python (pypi)</a>, <a href="https://statsthinking21.github.io/statsthinking21-python/09-StatisticalPower.html" target="_blank">numpy</a>) languages. Regardless of the tool, the methods almost always rely on assumptions such as standard distributions, balanced designs, and perfect measurement (reliability <span class="math inline">\(=\)</span> 1.0). These assumptions almost always work in our favor. We will arrive at values that are so otherworldly that nobody could honestly defend them. But, we do defend them. Not sure why but with the help of a little simulation, you will have other options. The bottom line, these assumptions may not help us estimate power well. To address this point, we need to know a bit about how power is actually calculated.</p>
</section>
<section id="bias-in-estimation" class="level2">
<h2 class="anchored" data-anchor-id="bias-in-estimation">Bias in Estimation</h2>
<p>You are not the only beneficiary of studies with sufficient statistical power. Funding agencies, internal review boards (IRBs), journal editors/reviewers, and other groups responsible for the support of science demand that we justify our methods, measures, samples, and such. Most of that justification stems from years of failed research attempts to replicate, extend, or discover much due to small samples with poor measurement. Thus, there are many parties interested in the maximization of statistical power. Our collective resources get used more efficiently. If statistical power (at least <em>a priori</em> power estimates) levels are mandated prior to funding or publication, many of us will find ways to see large effects when none are present. We have what is termed a self-serving bias. No need to be defensive about that reflexive stance, we can learn to be more open to challenges to our hunches and estimates. Throughout the rest of the presentation, you will learn how to combat those biases and get better estimates of effect. Further, you may soon realize that statistical power is not just matter of getting more subjects. We need to explore the concept of power and the computations of said estimates before we can combat our inherent biases.</p>
</section>
<section id="the-big-power-picture" class="level2">
<h2 class="anchored" data-anchor-id="the-big-power-picture">The Big Power Picture</h2>
<p>Power is actually quite simple and most people grasp the idea behind the term. In the rawest form, power is an <strong>estimate</strong> of a probability based upon <strong>MANY</strong> assumptions about the future. Proportionally, power directly relates to sample size and effect size. Larger samples result in greater power to detect an effect. Larger effects are easier to detect. Thus, the entirety of statistical power can be summed up by sample size and effect size. There are more finer details to understand as we unpack the world of statistical power.</p>
<section id="sample-size" class="level3">
<h3 class="anchored" data-anchor-id="sample-size">Sample Size</h3>
<p>We know the role of sample size to be self-evident from the <a href="https://psu-eberly.shinyapps.io/Law_of_Large_Numbers/" target="_blank"><strong>LAW OF LARGE NUMBERS</strong></a> and hold that precision of estimate (reliability) is an essential ingredient to understanding both stability, and, in a not-so-subtle manner, validity of effect. Stability comes from precision. The greater the sample size, the more likely we are to get replicable estimates of the group (i.e., mean). Validity comes from the assumption in the law of large numbers and from inferential statistics (i.e., NHST) regarding the population parameter (i.e., reality). Larger samples help us gain precision of estimate for the population parameter. Thus, our inferences are such that larger samples give us more valid, population estimates. We shall return to this point later. For now, let us focus on the sample size as it pertains to reliability.</p>
</section>
<section id="effect-size" class="level3">
<h3 class="anchored" data-anchor-id="effect-size">Effect Size</h3>
<p>The second element to understanding statistical power is the effect size. My graduate advisor (Lee Sechrest) wrote a <a href="https://deepblue.lib.umich.edu/bitstream/handle/2027.42/67520/10.1177_0193841X8200600501.pdf?sequence=2" target="_blank">great piece</a> on the variety of estimates that could be used to quantify effect sizes. Furthermore, he and his colleague Bill Yeaton (1981) <a href="https://www.researchgate.net/profile/Lee-Sechrest/publication/232502571_Meaningful_measures_of_effect/links/53e9906c0cf2fb1b9b6715f9/Meaningful-measures-of-effect.pdf" target="_blank">argued that such measures of effect were almost entirely meaningless</a> unless calibrated to some known standards (e.g., money, lives, etc.). Today, these measures of effect are mere guesses of terribly uncertain outcomes. We guess numbers without knowing much about how they may represent our future. The numerical guesses are almost always self-serving in that they allow us to have smaller samples (see above) as a trade-off for larger effects. We argue that the large expected effect is justifiable because some relevant literature or recent efforts provide a hint of a “large effect.” What we then do is assign a numerical value to that effect size to match the large effect. Here is the effect we are computing in most cases for power analysis:</p>
<p><span class="math display">\[
d = \frac{\bar{X_1} - \bar{X_2}}{s_p} = \frac{\mbox{Difference Between Groups}}{\mbox{Standard Deviation}}
\]</span> The effects expressed in Cohen’s d units are centered at zero (i.e., the mean effect equals zero or no effect at the center of the distribution) with each unit from the center equal to one standard deviation. In short, a z-score. Cohen’s d is a standardized measure of effect that is centered at zero but unbounded in both directions (positive or negative effects; thus, <span class="math inline">\(-\infty &lt; d &lt; \infty\)</span>). Articles citing Gene Glass and Jacob Cohen <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3444174/#:~:text=Cohen's%20term%20d%20is%20an,large%20(d%20%E2%89%A5%200.8).&amp;text=According%20to%20Cohen%2C%20%E2%80%9Ca%20medium,eye%20of%20a%20careful%20observer." target="_blank">(e.g., Sullivan &amp; Feinn, 2012 - cited over 5000 times; see Tables 1 and 2)</a> continued to stoke the flames of heuristics when assigning effect size estimates. They said:</p>
<blockquote class="blockquote">
<p>The denominator standardizes the difference by transforming the absolute difference into standard deviation units. Cohen’s term d is an example of this type of effect size index. Cohen classified effect sizes as small (<span class="math inline">\(d = 0.2\)</span>), medium (<span class="math inline">\(d = 0.5\)</span>), and large (<span class="math inline">\(d \geq 0.8\)</span>). According to Cohen, “a medium effect of .5 is visible to the naked eye of a careful observer. A small effect of .2 is noticeably smaller than medium but not so small as to be trivial. A large effect of .8 is the same distance above the medium as small is below it.” These designations large, medium, and small do not take into account other variables such as the accuracy of the assessment instrument and the diversity of the study population. However these ballpark categories provide a general guide that should also be informed by context.</p>
</blockquote>
<p>The unfortunate effect of such heuristics is that most social scientists ignored the last part where these authors acknowledged the omission of so many relevant variables when assigning these values. Thus, failure to account for them leads most of us to find values in our favor and rely on the heuristics to justify them. We shall not succumb to such barbarism. Heuristics are to be challenged and recognized for what they are most often - a crutch to avoid thinking deeply about a problem. We now have the tools at our disposal to shake off these rough estimates and start thinking a bit deeper about estimating the chances of our own success. Wouldn’t that be nice? We need to calculate power.</p>
</section>
</section>
<section id="calculating-power" class="level2">
<h2 class="anchored" data-anchor-id="calculating-power">Calculating Power</h2>
<p>One of the easiest ways to get into the methods of computation is to dig into the “guts” of the computer programs. Thankfully, R is an open-source programming language that ensures all contributions are both open and available to us - the users. So, I will take apart the easiest model - the t-test (pwr.t.test in library(pwr)) and expand upon other online explanations. In particular, I would highly recommend <a href="https://stats.stackexchange.com/a/496316" target="_blank">dariober’s</a> excellent explanatory examples and code.</p>
<section id="power-calculation-code-inspection-t-test" class="level3">
<h3 class="anchored" data-anchor-id="power-calculation-code-inspection-t-test">Power Calculation Code Inspection (t-test)</h3>
<p>The essence of the code to compute statistical power for a two-tailed, two-sided alternative hypothesis is as follows (extracted from the pwr::pwr.t.test() function and simplified for the purposes of this presentation):</p>
<div class="cell">
<details open="">
<summary>Show the Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>    n <span class="ot">&lt;-</span> <span class="dv">100</span> <span class="co"># sample size</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>    ng <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="co"># number of groups</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    d <span class="ot">&lt;-</span> .<span class="dv">3</span> <span class="co"># effect size</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    sl <span class="ot">&lt;-</span> .<span class="dv">05</span> <span class="co"># significance level</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    nu <span class="ot">&lt;-</span> (n <span class="sc">-</span> <span class="dv">1</span>) <span class="sc">*</span> ng</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>    qu <span class="ot">&lt;-</span> <span class="fu">qt</span>(sl<span class="sc">/</span><span class="dv">2</span>, nu, <span class="at">lower =</span> <span class="cn">FALSE</span>)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    ncp <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(n<span class="sc">/</span>ng) <span class="sc">*</span> d</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    df <span class="ot">&lt;-</span> (n<span class="sc">/</span>ng) <span class="sc">-</span> <span class="dv">1</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    qu <span class="ot">&lt;-</span> <span class="fu">qt</span>(sl<span class="sc">/</span><span class="dv">2</span>, df, <span class="at">lower =</span> <span class="cn">FALSE</span>)</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>    ExpPower <span class="ot">&lt;-</span> <span class="fu">pt</span>(qu, nu, ncp, <span class="at">lower =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> </span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>      <span class="fu">pt</span>(<span class="sc">-</span>qu, nu, ncp, <span class="at">lower =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>A better way to show the simplicity is to create a dynamic object here that you can play with while you develop a level of numeracy few in the field possess:</p>
<div class="panel-grid layout-sidebar ms-md-0 layout-sidebar-left">
<div class="cell panel-sidebar card bg-light p-2 g-col-24 g-col-lg-7" data-fill="true">
<div class="cell-output-display">
<div class="form-group shiny-input-container">
<label class="control-label" id="n-label" for="n">Total Sample Size</label>
<input class="js-range-slider" id="n" data-skin="shiny" data-min="0" data-max="500" data-from="150" data-step="5" data-grid="true" data-grid-num="10" data-grid-snap="false" data-prettify-separator="," data-prettify-enabled="true" data-keyboard="true" data-data-type="number">
</div>
</div>
<div class="cell-output-display">
<div class="form-group shiny-input-container">
<label class="control-label" id="d-label" for="d">Effect Size</label>
<input class="js-range-slider" id="d" data-skin="shiny" data-min="0" data-max="1.5" data-from="0.25" data-step="0.01" data-grid="true" data-grid-num="10" data-grid-snap="false" data-prettify-separator="," data-prettify-enabled="true" data-keyboard="true" data-data-type="number">
</div>
</div>
<div class="cell-output-display">
<div class="form-group shiny-input-container">
<label class="control-label" id="ng-label" for="ng">Number of Groups</label>
<input class="js-range-slider" id="ng" data-skin="shiny" data-min="1" data-max="4" data-from="2" data-step="1" data-grid="true" data-grid-num="3" data-grid-snap="false" data-prettify-separator="," data-prettify-enabled="true" data-keyboard="true" data-data-type="number">
</div>
</div>
<div class="cell-output-display">
<div class="form-group shiny-input-container">
<label class="control-label" id="sl-label" for="sl">Significance Level</label>
<input class="js-range-slider" id="sl" data-skin="shiny" data-min="0.001" data-max="0.1" data-from="0.05" data-step="0.001" data-grid="true" data-grid-num="9.9" data-grid-snap="false" data-prettify-separator="," data-prettify-enabled="true" data-keyboard="true" data-data-type="number">
</div>
</div>
</div>
<div class="panel-fill panel-grid g-col-24 g-col-lg-17 pt-3 pt-lg-0">
<div class="g-col-24">
<div class="cell panel-fill">
<div class="cell-output-display">
<div class="shiny-plot-output html-fill-item" id="pP1" style="width:100%;height:400px;"></div>
</div>
</div>
</div>
</div>
</div>
<p>Now that you have the hang of it. Let’s dive a little deeper into the details so you can be a bit more informed about which values to choose, when, and why. Here goes…</p>
</section>
<section id="whats-the-effect" class="level3">
<h3 class="anchored" data-anchor-id="whats-the-effect">What’s the effect?</h3>
<p>An effect is often expressed in the form of a non-centrality parameter or ncp. These parameters are just an adjustment we make to any measure of effect. Let’s inspect the math (sorry):</p>
<p><span class="math display">\[
ncp = \sqrt{N} * d
\]</span></p>
<p>where…</p>
<p><span class="math display">\[
N \equiv \mbox{Our Realized Sample Size}
\]</span></p>
<p>and where “realized” qualifies the sample size based upon the appropriate and effective sample. For independent sample t-test, the N depends on the individual group sizes, one sample and dependent sample t-tests have singular N values - the number of observations (most often); otherwise, N is the average sample size across groups. The software often selects the appropriate N for you leading us to make some wildly inaccurate guesses. Next is our computed effect (d).</p>
<p><span class="math display">\[
d \equiv \mbox{Our Estimated or Observed Effect Size}
\]</span></p>
<p>More often than not, we use Cohen’s d (1988) because for most, it seems intuitive. Shortly, you will realize how counter-intuitive d really is in practice. But, to address d, we should look under the hood:</p>
<p><span class="math display">\[
d = \frac{\bar{X_1} - \bar{X_2}}{s_p} = \frac{\mbox{Difference Between Groups}}{\mbox{Standard Deviation}}
\]</span></p>
<p>You have all seen this before as a z-score transform:</p>
<p><span class="math display">\[
z = \frac{x_i - \bar{X}}{s}
\]</span></p>
<p>Instead of individual values, we just take the difference between two means <span class="math inline">\((\bar{X_1} - \bar{X_2})\)</span> and divide by some special standard deviation <span class="math inline">\(s_p\)</span>. That special standard deviation is necessary when we have different variances and sample sizes by group (or by time if a dependent sample t-test).</p>
<p>Computing statistical power only involves a few decisions for N and d; the significance level (<span class="math inline">\(p &lt; 0.05\)</span>) gets set by others. If selecting only two values is all we really need to do, what is the big deal about this presentation? The point estimates are misleading and often give us an inaccurate probability of our own success. We move boldly into the unknown without the knowledge that a few more subjects placed in the right group with proper attention to treatment fidelity and measurement error will ensure our success. Ignorance is not bliss here - it is time and money. Let’s save some time and money by realizing the real problem.</p>
</section>
</section>
</section>
<section id="why-are-point-estimates-of-statistical-power-of-limited-use" class="level1">
<h1>Why are point estimates of statistical power of limited use?</h1>
<p>We made all these estimates above with such confidence that I forgot to mention that we never know any of these values when planning our research. None of them. We guess. We guess in our favor; we guess with gusto; and we guess poorly more often than not. Why? Simply put, we invest too much time trying to get some point estimates of completely wild guesses. By busying ourselves with these micro-fine estimates, we forget that we guessed <strong>EVERY PART OF THE EQUATION</strong>. Think about the situation carefully before you reflexively disagree.</p>
<p>Consider Lehr’s “rule of thumb” estimate (Van Belle, 2008) for a two-sided t-test, 80% power, and a critical alpha level of .05 leads to:</p>
<p><span class="math display">\[
n = 16 \frac{s^2}{d^2}
\]</span> where <span class="math inline">\(n\)</span> is the sample size necessary to achieve 80% power</p>
<hr>
<p><strong>THOUGHT EXERCISE</strong></p>
<blockquote class="blockquote">
<p>I plan a study to sample 200 undergraduates that will be randomly assigned to one of two groups. Each participant requires 15 minutes of research staff time to collect the data. Previous research indicates that the expected effect size for my “treatment” is about a 20 pt difference on a measure that ranges from 0 to 100. That measure, however, requires my research staff to spend over an hour per participant and we do not have the resources to spend. Thus, we use a shortened version of the measure that has a test-retest reliability of <span class="math inline">\(r_{xx} = .9\)</span> and a correlation with the full scale of <span class="math inline">\(r = .8\)</span>. Given the differences in the measure, we assume that the 20 pt difference was about a standard deviation in previous studies. Even if the standard deviation were twice that value, we believe the expected effect would be about <span class="math inline">\(d = 0.5\)</span> or a “medium” effect. Sound familiar?</p>
</blockquote>
<hr>
<p>Cohen was not correct in his qualitative assessment of effect size estimates. He was correct under very strict conditions of which few researchers today find themselves. Those qualitative anchors are no more valid today than when they were first published. Still, many of us rely on guesses that fall “within the range” of those qualitative anchors. We find ourselves, today, with a much more complex world where effect size estimates are greatly affected by sampling, measurement, and treatment fidelity. Few of us anticipate how these factors may affect our results; we are quick to notice how they may affect other researcher’s work. Again, self-serving biases affect us all.</p>
<p>If point estimates are not the answer to our statistical power estimate problems then what is the magic elixir? There are none. With some proper guidance, you can setup a simulation to model your expected results. Once modeled, you can adjust the settings to accommodate “best” and “worst” case scenarios.</p>
</section>
<section id="how-do-i-simulate-effects" class="level1">
<h1>How do I simulate effects?</h1>
<p>Simulation requires a little knowledge of the models you wish to run. I will start with a basic model (independent sample t-test), and move to more complicated models (linear mixed effects or lmer models) quite rapidly via regression and ANOVA models. To make the transition easier, I plan to walk very slowly through some of the rudiments of simulation. First, we start with sampling and move from univariate samples to multivariate samples. You do not need a strong background in R or Python to follow along. The code is available on my repository. Please help yourself to my code but please acknowledge the source.</p>
<section id="basic-sampling" class="level2">
<h2 class="anchored" data-anchor-id="basic-sampling">Basic Sampling</h2>
<p>The standardized normal scale is our mostly widely used option along with the t, F, and chi-square distributions. Psychological scientists mostly use a t or F distribution, and, for the purposes of this presentation, we restrict our discussion to only those distributions. As you will soon learn, it doesn’t matter what scale we use to quantify the results. As long as we have a critical value to assess what might be “inconsistent with the null.” The t and F distributions are the standard statistical distributions in our commonly-used inferential procedures (e.g., ANOVA, regression, etc.).</p>
<p>Most of you may recall, the standard normal distribution allows z-scores to be compared to either zero (i.e., an implied, one-sample comparison) or another mean. The z-test was popular prior to William Gossett.</p>
<hr>
<p><strong>REFRESHER</strong></p>
<blockquote class="blockquote">
<p>For those readers less familiar about the role Gosset played in the development of the t-statistic, I suggest you <a href="https://youtu.be/32CuxWdOlow?si=_hFY_TP72CGHSW9E" target="_blank">watch this brief video</a> that provides a nice overview.</p>
</blockquote>
<hr>
<p>Simulation requires some numeracy. The applets above provide you with some relatively high level control over the computation of statistical power. We can change the means, standard deviations, and such to some effect; the real challenge is to model your data in such a way to best understand what makes a difference and how it makes a difference. I begin your journey toward numeracy with two simple applications.</p>
<p>Let’s look at the raw means and how that may relate to the t-test statistic:</p>
<section id="univariate-playground" class="level3">
<h3 class="anchored" data-anchor-id="univariate-playground">Univariate Playground</h3>
<div class="panel-grid layout-sidebar ms-md-0 layout-sidebar-left">
<div class="cell panel-sidebar card bg-light p-2 g-col-24 g-col-lg-7" data-fill="true">
<div class="cell-output-display">
<div class="form-group shiny-input-container">
<label class="control-label" id="Ndemo-label" for="Ndemo">Sample Size</label>
<input class="js-range-slider" id="Ndemo" data-skin="shiny" data-min="0" data-max="500" data-from="150" data-step="10" data-grid="true" data-grid-num="10" data-grid-snap="false" data-prettify-separator="," data-prettify-enabled="true" data-keyboard="true" data-data-type="number">
</div>
</div>
<div class="cell-output-display">
<div class="form-group shiny-input-container">
<label class="control-label" id="MUdemo-label" for="MUdemo">Mean</label>
<input class="js-range-slider" id="MUdemo" data-skin="shiny" data-min="0" data-max="1.5" data-from="1" data-step="0.01" data-grid="true" data-grid-num="10" data-grid-snap="false" data-prettify-separator="," data-prettify-enabled="true" data-keyboard="true" data-data-type="number">
</div>
</div>
<div class="cell-output-display">
<div class="form-group shiny-input-container">
<label class="control-label" id="SDdemo-label" for="SDdemo">SD</label>
<input class="js-range-slider" id="SDdemo" data-skin="shiny" data-min="0" data-max="5" data-from="1" data-step="0.01" data-grid="true" data-grid-num="10" data-grid-snap="false" data-prettify-separator="," data-prettify-enabled="true" data-keyboard="true" data-data-type="number">
</div>
</div>
<div class="cell-output-display">
<div class="form-group shiny-input-container">
<label class="control-label" id="Rel-label" for="Rel">Reliability of Measure</label>
<input class="js-range-slider" id="Rel" data-skin="shiny" data-min="0" data-max="1" data-from="1" data-step="0.01" data-grid="true" data-grid-num="10" data-grid-snap="false" data-prettify-separator="," data-prettify-enabled="true" data-keyboard="true" data-data-type="number">
</div>
</div>
</div>
<div class="panel-fill panel-grid g-col-24 g-col-lg-17 pt-3 pt-lg-0">
<div class="g-col-24">
<div class="cell panel-fill">
<div class="cell-output-display">
<div class="shiny-plot-output html-fill-item" id="p1" style="width:100%;height:400px;"></div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="multi-mean-playground" class="level3">
<h3 class="anchored" data-anchor-id="multi-mean-playground">Multi-Mean Playground</h3>
<div class="panel-grid layout-sidebar ms-md-0 layout-sidebar-left">
<div class="cell panel-sidebar card bg-light p-2 g-col-24 g-col-lg-7 quarto-layout-panel" data-fill="true">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="form-group shiny-input-container">
<label class="control-label" id="N1-label" for="N1">Sample Size (Group 1)</label>
<input class="js-range-slider" id="N1" data-skin="shiny" data-min="0" data-max="1000" data-from="150" data-step="1" data-grid="true" data-grid-num="10" data-grid-snap="false" data-prettify-separator="," data-prettify-enabled="true" data-keyboard="true" data-data-type="number">
</div>
</div>
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="form-group shiny-input-container">
<label class="control-label" id="N2-label" for="N2">Sample Size (Group 2)</label>
<input class="js-range-slider" id="N2" data-skin="shiny" data-min="0" data-max="1000" data-from="150" data-step="1" data-grid="true" data-grid-num="10" data-grid-snap="false" data-prettify-separator="," data-prettify-enabled="true" data-keyboard="true" data-data-type="number">
</div>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="form-group shiny-input-container">
<label class="control-label" id="MU1-label" for="MU1">Mean (Group 1)</label>
<input class="js-range-slider" id="MU1" data-skin="shiny" data-min="0" data-max="15" data-from="5" data-step="1" data-grid="true" data-grid-num="7.5" data-grid-snap="false" data-prettify-separator="," data-prettify-enabled="true" data-keyboard="true" data-data-type="number">
</div>
</div>
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="form-group shiny-input-container">
<label class="control-label" id="MU2-label" for="MU2">Mean (Group 2)</label>
<input class="js-range-slider" id="MU2" data-skin="shiny" data-min="0" data-max="15" data-from="5" data-step="1" data-grid="true" data-grid-num="7.5" data-grid-snap="false" data-prettify-separator="," data-prettify-enabled="true" data-keyboard="true" data-data-type="number">
</div>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="form-group shiny-input-container">
<label class="control-label" id="SD1-label" for="SD1">SD (Group 1)</label>
<input class="js-range-slider" id="SD1" data-skin="shiny" data-min="0" data-max="15" data-from="5" data-step="1" data-grid="true" data-grid-num="7.5" data-grid-snap="false" data-prettify-separator="," data-prettify-enabled="true" data-keyboard="true" data-data-type="number">
</div>
</div>
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="form-group shiny-input-container">
<label class="control-label" id="SD2-label" for="SD2">SD (Group 2)</label>
<input class="js-range-slider" id="SD2" data-skin="shiny" data-min="0" data-max="15" data-from="5" data-step="1" data-grid="true" data-grid-num="7.5" data-grid-snap="false" data-prettify-separator="," data-prettify-enabled="true" data-keyboard="true" data-data-type="number">
</div>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="form-group shiny-input-container">
<label class="control-label" id="Rel1-label" for="Rel1">Meas Reliability (Group 1)</label>
<input class="js-range-slider" id="Rel1" data-skin="shiny" data-min="0" data-max="1" data-from="0.8" data-step="0.01" data-grid="true" data-grid-num="10" data-grid-snap="false" data-prettify-separator="," data-prettify-enabled="true" data-keyboard="true" data-data-type="number">
</div>
</div>
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="form-group shiny-input-container">
<label class="control-label" id="Rel2-label" for="Rel2">Meas Reliability (Group 2)</label>
<input class="js-range-slider" id="Rel2" data-skin="shiny" data-min="0" data-max="1" data-from="0.8" data-step="0.01" data-grid="true" data-grid-num="10" data-grid-snap="false" data-prettify-separator="," data-prettify-enabled="true" data-keyboard="true" data-data-type="number">
</div>
</div>
</div>
</div>
<div class="panel-fill panel-grid g-col-24 g-col-lg-17 pt-3 pt-lg-0">
<div class="g-col-24">
<div class="cell panel-fill">
<div class="cell-output-display">
<div class="shiny-plot-output html-fill-item" id="p2" style="width:100%;height:400px;"></div>
</div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="regression-anyone" class="level2">
<h2 class="anchored" data-anchor-id="regression-anyone">Regression Anyone?</h2>
<div class="cell">
<details>
<summary>Show the Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(simpr)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="co">#set.seed(100)</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>simpr_tidy <span class="ot">=</span> <span class="do">## Specify the simulation</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">specify</span>(<span class="at">x1 =</span> <span class="sc">~</span> <span class="dv">2</span> <span class="sc">+</span> <span class="fu">rnorm</span>(n),</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>                       <span class="at">x2 =</span> <span class="sc">~</span> <span class="dv">3</span> <span class="sc">+</span> <span class="dv">2</span><span class="sc">*</span>x1 <span class="sc">+</span> <span class="fu">rnorm</span>(n, <span class="dv">0</span>, <span class="at">sd =</span> <span class="fl">0.5</span>),</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>                       <span class="at">y =</span> <span class="sc">~</span> <span class="dv">5</span> <span class="sc">+</span> x1 <span class="sc">+</span> x2 <span class="sc">+</span> g1<span class="sc">*</span>x1<span class="sc">*</span>x2 <span class="sc">+</span> <span class="dv">10</span> <span class="sc">*</span> <span class="fu">rnorm</span>(n)) <span class="sc">%&gt;%</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Define varying parameters: here, sample size and effect size</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">define</span>(<span class="at">n =</span> <span class="fu">seq</span>(<span class="dv">100</span>, <span class="dv">300</span>, <span class="at">by =</span> <span class="dv">50</span>),</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">g1 =</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">1</span>, <span class="at">by =</span> <span class="fl">0.5</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Generate 10 repetitions</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">generate</span>(<span class="dv">10</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Fit models</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fit</span>(<span class="at">lm =</span> <span class="sc">~</span><span class="fu">lm</span>(y <span class="sc">~</span> x1<span class="sc">*</span>x2))<span class="sc">%&gt;%</span> </span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Tidy each simulation using broom::tidy and</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>  <span class="do">## bind together</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>  tidy_fits</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>simpr_tidy</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,000 × 10
   .sim_id     n    g1   rep Source term    estimate std.error statistic p.value
     &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;chr&gt;  &lt;chr&gt;      &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;
 1       1   100    -1     1 lm     (Inter…    11.0      8.24      1.33  1.87e-1
 2       1   100    -1     1 lm     x1         11.0      4.51      2.44  1.67e-2
 3       1   100    -1     1 lm     x2         -1.24     2.21     -0.562 5.75e-1
 4       1   100    -1     1 lm     x1:x2      -1.53     0.307    -4.99  2.69e-6
 5       2   150    -1     1 lm     (Inter…    -1.17     5.72     -0.204 8.38e-1
 6       2   150    -1     1 lm     x1          3.13     3.85      0.812 4.18e-1
 7       2   150    -1     1 lm     x2          2.26     1.67      1.36  1.77e-1
 8       2   150    -1     1 lm     x1:x2      -1.38     0.254    -5.42  2.40e-7
 9       3   200    -1     1 lm     (Inter…     5.98     5.37      1.11  2.67e-1
10       3   200    -1     1 lm     x1         -2.12     3.28     -0.648 5.18e-1
# ℹ 990 more rows</code></pre>
</div>
<details>
<summary>Show the Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>condition_power <span class="ot">=</span> simpr_tidy <span class="sc">%&gt;%</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(term <span class="sc">%in%</span> <span class="st">"x1:x2"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(n, g1) <span class="sc">%&gt;%</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">power =</span> <span class="fu">mean</span>(p.value <span class="sc">&lt;</span> <span class="fl">0.05</span>)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'n'. You can override using the `.groups`
argument.</code></pre>
</div>
<details>
<summary>Show the Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>condition_power</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 25 × 3
# Groups:   n [5]
       n    g1 power
   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1   100  -1     0.6
 2   100  -0.5   0.4
 3   100   0     0  
 4   100   0.5   0.2
 5   100   1     0.7
 6   150  -1     0.8
 7   150  -0.5   0.4
 8   150   0     0  
 9   150   0.5   0.4
10   150   1     0.9
11   200  -1     1  
12   200  -0.5   0.5
13   200   0     0  
14   200   0.5   0.3
15   200   1     1  
16   250  -1     1  
17   250  -0.5   0.7
18   250   0     0  
19   250   0.5   0.6
20   250   1     1  
21   300  -1     1  
22   300  -0.5   0.7
23   300   0     0.2
24   300   0.5   0.6
25   300   1     1  </code></pre>
</div>
<details>
<summary>Show the Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>condition_power <span class="sc">%&gt;%</span> </span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(n, power)) <span class="sc">+</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(<span class="sc">~</span>g1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="PresentationPowerSimulation_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell panel-input card bg-light p-2" data-fill="true">

</div>
<div class="panel-fill panel-grid">
<div class="g-col-24">
<div class="cell panel-fill">

</div>
</div>
</div>
</section>
<section id="anova-models" class="level2">
<h2 class="anchored" data-anchor-id="anova-models">ANOVA models</h2>
<div class="cell">
<details>
<summary>Show the Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(psych)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'psych'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:lavaan':

    cor2cov</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:ggplot2':

    %+%, alpha</code></pre>
</div>
<details>
<summary>Show the Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>data.df <span class="ot">&lt;-</span> <span class="fu">sim.anova</span>(<span class="at">es1=</span><span class="dv">1</span>,<span class="at">es2=</span>.<span class="dv">5</span>,<span class="at">es13=</span><span class="dv">1</span>)  <span class="co"># one main effect and one interaction</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">describe</span>(data.df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>     vars  n  mean   sd median trimmed  mad  min  max range  skew kurtosis   se
IV1*    1 16  1.50 0.52   1.50    1.50 0.74  1.0 2.00  1.00  0.00    -2.12 0.13
IV2*    2 16  1.50 0.52   1.50    1.50 0.74  1.0 2.00  1.00  0.00    -2.12 0.13
IV3*    3 16  1.50 0.52   1.50    1.50 0.74  1.0 2.00  1.00  0.00    -2.12 0.13
DV      4 16 -0.56 1.52  -0.14   -0.48 1.23 -3.6 1.37  4.97 -0.56    -1.08 0.38</code></pre>
</div>
<details>
<summary>Show the Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pairs.panels</span>(data.df)   <span class="co">#show how the design variables are orthogonal</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="PresentationPowerSimulation_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Show the Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">lm</span>(DV<span class="sc">~</span>IV1<span class="sc">*</span>IV2<span class="sc">*</span>IV3,<span class="at">data=</span>data.df))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = DV ~ IV1 * IV2 * IV3, data = data.df)

Residuals:
    Min      1Q  Median      3Q     Max 
-1.3127 -0.3635  0.0000  0.3635  1.3127 

Coefficients:
               Estimate Std. Error t value Pr(&gt;|t|)   
(Intercept)    -2.58573    0.70607  -3.662  0.00638 **
IV11            2.49781    0.99853   2.501  0.03686 * 
IV21            2.73403    0.99853   2.738  0.02553 * 
IV31            0.29791    0.99853   0.298  0.77304   
IV11:IV21      -1.62291    1.41213  -1.149  0.28364   
IV11:IV31       0.06105    1.41213   0.043  0.96658   
IV21:IV31      -2.04374    1.41213  -1.447  0.18584   
IV11:IV21:IV31  1.26742    1.99705   0.635  0.54338   
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.9985 on 8 degrees of freedom
Multiple R-squared:  0.7712,    Adjusted R-squared:  0.5711 
F-statistic: 3.853 on 7 and 8 DF,  p-value: 0.03891</code></pre>
</div>
<details>
<summary>Show the Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">aov</span>(DV<span class="sc">~</span>IV1<span class="sc">*</span>IV2<span class="sc">*</span>IV3,<span class="at">data=</span>data.df))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>            Df Sum Sq Mean Sq F value  Pr(&gt;F)   
IV1          1 16.544  16.544  16.593 0.00357 **
IV2          1  5.930   5.930   5.947 0.04065 * 
IV3          1  0.567   0.567   0.569 0.47231   
IV1:IV2      1  0.979   0.979   0.981 0.35086   
IV1:IV3      1  0.483   0.483   0.484 0.50627   
IV2:IV3      1  1.988   1.988   1.994 0.19561   
IV1:IV2:IV3  1  0.402   0.402   0.403 0.54338   
Residuals    8  7.976   0.997                   
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
<details>
<summary>Show the Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a> <span class="co">#demonstrate the effect of not centering the data on the regression</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>data.df <span class="ot">&lt;-</span> <span class="fu">sim.anova</span>(<span class="at">es1=</span><span class="dv">1</span>,<span class="at">es2=</span>.<span class="dv">5</span>,<span class="at">es13=</span><span class="dv">1</span>,<span class="at">center=</span><span class="cn">FALSE</span>)  <span class="co">#</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="fu">describe</span>(data.df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>     vars  n mean   sd median trimmed  mad   min  max range  skew kurtosis   se
IV1*    1 16 1.50 0.52    1.5    1.50 0.74  1.00 2.00   1.0  0.00    -2.12 0.13
IV2*    2 16 1.50 0.52    1.5    1.50 0.74  1.00 2.00   1.0  0.00    -2.12 0.13
IV3*    3 16 1.50 0.52    1.5    1.50 0.74  1.00 2.00   1.0  0.00    -2.12 0.13
DV      4 16 0.49 1.85    1.0    0.62 1.63 -3.78 3.03   6.8 -0.67    -0.45 0.46</code></pre>
</div>
<details>
<summary>Show the Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="co">#this one is incorrect, because the IVs are not centered</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">lm</span>(DV<span class="sc">~</span>IV1<span class="sc">*</span>IV2<span class="sc">*</span>IV3,<span class="at">data=</span>data.df)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = DV ~ IV1 * IV2 * IV3, data = data.df)

Residuals:
    Min      1Q  Median      3Q     Max 
-0.8966 -0.3917  0.0000  0.3917  0.8966 

Coefficients:
               Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)      1.1798     0.5803   2.033 0.076503 .  
IV11            -1.9469     0.8207  -2.372 0.045093 *  
IV21             0.1076     0.8207   0.131 0.898974    
IV31            -4.0620     0.8207  -4.949 0.001122 ** 
IV11:IV21        2.6342     1.1607   2.269 0.052933 .  
IV11:IV31        6.0582     1.1607   5.220 0.000803 ***
IV21:IV31        2.0421     1.1607   1.759 0.116556    
IV11:IV21:IV31  -3.3524     1.6415  -2.042 0.075397 .  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.8207 on 8 degrees of freedom
Multiple R-squared:  0.8952,    Adjusted R-squared:  0.8035 
F-statistic: 9.764 on 7 and 8 DF,  p-value: 0.002274</code></pre>
</div>
<details>
<summary>Show the Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">aov</span>(DV<span class="sc">~</span>IV1<span class="sc">*</span>IV2<span class="sc">*</span>IV3,<span class="at">data=</span>data.df)) <span class="co">#compare with the lm model</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>            Df Sum Sq Mean Sq F value   Pr(&gt;F)    
IV1          1  9.749   9.749  14.473 0.005204 ** 
IV2          1 10.337  10.337  15.346 0.004435 ** 
IV3          1  2.890   2.890   4.290 0.072097 .  
IV1:IV2      1  0.918   0.918   1.362 0.276751    
IV1:IV3      1 19.202  19.202  28.507 0.000695 ***
IV2:IV3      1  0.134   0.134   0.199 0.667572    
IV1:IV2:IV3  1  2.810   2.810   4.171 0.075397 .  
Residuals    8  5.389   0.674                     
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
<details>
<summary>Show the Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co">#now examine multiple levels and quadratic terms</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>data.df <span class="ot">&lt;-</span> <span class="fu">sim.anova</span>(<span class="at">es1=</span><span class="dv">1</span>,<span class="at">es13=</span><span class="dv">1</span>,<span class="at">n2=</span><span class="dv">3</span>,<span class="at">n3=</span><span class="dv">4</span>,<span class="at">es22=</span><span class="dv">1</span>)</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">lm</span>(DV<span class="sc">~</span>IV1<span class="sc">*</span>IV2<span class="sc">*</span>IV3,<span class="at">data=</span>data.df))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = DV ~ IV1 * IV2 * IV3, data = data.df)

Residuals:
    Min      1Q  Median      3Q     Max 
-2.0018 -0.3397  0.0000  0.3397  2.0018 

Coefficients:
                Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)       3.4260     0.7844   4.367 0.000207 ***
IV11             -2.7790     1.1093  -2.505 0.019434 *  
IV20             -3.0489     1.1093  -2.748 0.011190 *  
IV21             -1.2009     1.1093  -1.083 0.289778    
IV3-1            -1.5254     1.1093  -1.375 0.181825    
IV31             -4.4713     1.1093  -4.031 0.000488 ***
IV33             -5.1016     1.1093  -4.599 0.000115 ***
IV11:IV20         1.5126     1.5689   0.964 0.344596    
IV11:IV21         1.3254     1.5689   0.845 0.406549    
IV11:IV3-1        3.2038     1.5689   2.042 0.052272 .  
IV11:IV31         6.1556     1.5689   3.924 0.000639 ***
IV11:IV33         8.5233     1.5689   5.433  1.4e-05 ***
IV20:IV3-1        2.1234     1.5689   1.353 0.188512    
IV21:IV3-1        1.1223     1.5689   0.715 0.481280    
IV20:IV31         1.3930     1.5689   0.888 0.383389    
IV21:IV31         2.2484     1.5689   1.433 0.164711    
IV20:IV33         1.5838     1.5689   1.010 0.322782    
IV21:IV33         1.5504     1.5689   0.988 0.332899    
IV11:IV20:IV3-1  -2.6968     2.2187  -1.215 0.236008    
IV11:IV21:IV3-1  -1.2671     2.2187  -0.571 0.573237    
IV11:IV20:IV31   -0.4246     2.2187  -0.191 0.849846    
IV11:IV21:IV31   -3.3169     2.2187  -1.495 0.147959    
IV11:IV20:IV33   -2.4872     2.2187  -1.121 0.273368    
IV11:IV21:IV33   -0.6422     2.2187  -0.289 0.774713    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 1.109 on 24 degrees of freedom
Multiple R-squared:  0.8651,    Adjusted R-squared:  0.7359 
F-statistic: 6.693 on 23 and 24 DF,  p-value: 8.495e-06</code></pre>
</div>
<details>
<summary>Show the Code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">aov</span>(DV<span class="sc">~</span>IV1<span class="sc">*</span>IV2<span class="sc">*</span>IV3,<span class="at">data=</span>data.df))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>            Df Sum Sq Mean Sq F value   Pr(&gt;F)    
IV1          1  36.11   36.11  29.346 1.45e-05 ***
IV2          2  32.23   16.12  13.096 0.000143 ***
IV3          3  10.76    3.59   2.914 0.054955 .  
IV1:IV2      2   0.03    0.01   0.011 0.988728    
IV1:IV3      3  98.02   32.67  26.549 8.49e-08 ***
IV2:IV3      6   3.71    0.62   0.502 0.800543    
IV1:IV2:IV3  6   8.58    1.43   1.162 0.358682    
Residuals   24  29.54    1.23                     
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
<details>
<summary>Show the Code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pairs.panels</span>(data.df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="PresentationPowerSimulation_files/figure-html/unnamed-chunk-17-2.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Show the Code</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>data.df <span class="ot">&lt;-</span> <span class="fu">sim.anova</span>(<span class="at">es1=</span><span class="dv">1</span>,<span class="at">es2=</span><span class="sc">-</span>.<span class="dv">5</span>,<span class="at">within=</span><span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">1</span>),<span class="at">n=</span><span class="dv">10</span>)</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="fu">pairs.panels</span>(data.df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="PresentationPowerSimulation_files/figure-html/unnamed-chunk-17-3.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="linear-mixed-effects-models-lmer" class="level2">
<h2 class="anchored" data-anchor-id="linear-mixed-effects-models-lmer">Linear Mixed Effects Models (lmer)</h2>
<div class="cell">
<details>
<summary>Show the Code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(designr)</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lme4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: Matrix</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'Matrix'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:tidyr':

    expand, pack, unpack</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:simpr':

    expand</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'lme4'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:nlme':

    lmList</code></pre>
</div>
<details>
<summary>Show the Code</summary>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lmerTest)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'lmerTest'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:lme4':

    lmer</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:stats':

    step</code></pre>
</div>
<details>
<summary>Show the Code</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>design <span class="ot">&lt;-</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fixed.factor</span>(<span class="st">"X"</span>, <span class="at">levels=</span><span class="fu">c</span>(<span class="st">"X1"</span>, <span class="st">"X2"</span>)) <span class="sc">+</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">random.factor</span>(<span class="st">"Subj"</span>, <span class="at">instances=</span><span class="dv">30</span>)</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> <span class="fu">design.codes</span>(design)</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a><span class="fu">contrasts</span>(dat<span class="sc">$</span>X) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="sc">+</span><span class="dv">1</span>)</span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>dat<span class="sc">$</span>ysim <span class="ot">&lt;-</span> <span class="fu">simLMM</span>(<span class="at">formula =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> X <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">+</span> X <span class="sc">|</span> Subj),</span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>                   <span class="at">data =</span> dat,</span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a>                   <span class="at">Fixef =</span> <span class="fu">c</span>(<span class="dv">200</span>, <span class="dv">10</span>),</span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a>                   <span class="at">VC_sd =</span> <span class="fu">list</span>(<span class="fu">c</span>(<span class="dv">30</span>,<span class="dv">10</span>), <span class="dv">50</span>),</span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a>                   <span class="at">CP =</span> <span class="fl">0.3</span>,</span>
<span id="cb45-12"><a href="#cb45-12" aria-hidden="true" tabindex="-1"></a>                   <span class="at">empirical =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Data simulation from a linear mixed-effects model (LMM)
Formula: gaussian ~ 1 + X1 + ( 1 + X1 | Subj )
empirical = TRUE
Random effects:
 Groups    Name          Std.Dev. Corr
 Subj      (Intercept)   30.0     
           X1            10.0     0.30
 Residual                50.0
Number of obs: 60, groups:  Subj, 30
Fixed effects:
(Intercept)          X1 
        200          10 </code></pre>
</div>
<details>
<summary>Show the Code</summary>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>dat<span class="sc">$</span>Xn <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(dat<span class="sc">$</span>X<span class="sc">==</span><span class="st">"X1"</span>,<span class="sc">-</span><span class="dv">1</span>,<span class="dv">1</span>)</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>out <span class="ot">&lt;-</span> lme4<span class="sc">::</span><span class="fu">lmer</span>(ysim <span class="sc">~</span> Xn <span class="sc">+</span> (Xn <span class="sc">||</span> Subj), </span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">data=</span>dat, </span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">control=</span><span class="fu">lmerControl</span>(<span class="at">calc.derivs=</span><span class="cn">FALSE</span>))</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(out)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML ['lmerMod']
Formula: ysim ~ Xn + ((1 | Subj) + (0 + Xn | Subj))
   Data: dat
Control: lmerControl(calc.derivs = FALSE)

REML criterion at convergence: 634.5

Scaled residuals: 
     Min       1Q   Median       3Q      Max 
-1.74175 -0.61132 -0.07791  0.55742  1.70515 

Random effects:
 Groups   Name        Variance Std.Dev.
 Subj     (Intercept) 1584.75  39.809  
 Subj.1   Xn            91.49   9.565  
 Residual             1556.32  39.450  
Number of obs: 60, groups:  Subj, 30

Fixed effects:
            Estimate Std. Error t value
(Intercept)  200.000      8.875  22.535
Xn            10.000      5.384   1.857

Correlation of Fixed Effects:
   (Intr)
Xn 0.000 </code></pre>
</div>
</div>
</section>
<section id="longitudinal-data-analysis" class="level2">
<h2 class="anchored" data-anchor-id="longitudinal-data-analysis">Longitudinal Data Analysis</h2>
<p><a href="https://github.com/mcdonohue/longpower" target="_blank">See this fine package (longpower)</a></p>
<div class="cell">
<details>
<summary>Show the Code</summary>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co">#library(longpower)</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a><span class="co">#vignette(longpower)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="structural-equations-modeling" class="level2">
<h2 class="anchored" data-anchor-id="structural-equations-modeling">Structural Equations Modeling</h2>
<p><a href="https://yilinandrewang.shinyapps.io/pwrSEM/" target="_blank">TRY THIS</a></p>
</section>
</section>
<section id="where-can-i-go-for-more-help" class="level1">
<h1>Where can I go for more help?</h1>
<ol type="1">
<li>Read the fine materials available</li>
<li>GitHub CoPilot (coming to an IDE near you in 12/2023)</li>
<li></li>
</ol>
<p>
<script type="application/shiny-prerendered" data-context="server">
  output$pP1 <- renderPlot({
    nu <- (input$n - 1) * input$ng
    qu <- qt(input$sl/2, nu, lower = FALSE)
    ncp <- sqrt(input$n/input$ng) * input$d
    df <- (input$n/input$ng) - 1
    qu <- qt(input$sl/2, df, lower = FALSE)
    # Code for plot
    right <- pt(qu, df, ncp = ncp, lower = FALSE)
    left <- pt(-qu, df, ncp = ncp, lower = TRUE)
    #right + left
    # [1] 0.42 # As per pwr.t.test()


    # Code for plot
    x <- seq(-12, 5, length.out= 200)
    y <- dt(x, df= df, ncp= ncp)
    plot(x, y, type= 'b', lwd= 1.5, xlab= 'Value of T', ylab= 'Density', main = paste("Power = ", round(right+left,2), "; ncp = ", round(ncp,2), "; df = ", df, sep=""))
    polygon(c(x[x > qu], qu), c(y[x > qu], 0), col= "grey", border= 'black')
    polygon(c(x[x < -qu], -qu), c(y[x < -qu], 0), col= "grey", border= 'black')
    abline(v= c(-qu, qu), lty= 'dashed', col= 'blue')
    abline(v=ncp,col='red')
    
    #x <- seq(-6, 6, length.out= 100)
    #y <- dt(x, df= df)
    #plot(x, y, type= 'l', lwd= 1.5, xlab= 'Value of T', ylab= 'Density')
    #polygon(c(x[x > qu], qu), c(y[x > qu], 0), col= "grey", border= 'black')
    #polygon(c(x[x < -qu], -qu), c(y[x < -qu], 0), col= "grey", border= 'black')

  })
</script>
 
<script type="application/shiny-prerendered" data-context="server">
library(ggplot2)
library(xkcd)
library(pwr)

  genDat <- reactive({
      data.frame(obs=1:input$Ndemo, 
                 x=rnorm(input$Ndemo, 
                         input$MUdemo, 
                         sqrt((input$SDdemo^2)/input$Rel)))
  })
  
  powerEst <- reactive({
    round(pwr.t.test(n = input$Ndemo, 
                     d= input$MUdemo/(sqrt((input$SDdemo^2)/input$Rel)),
                     type = "one.sample",
                     alternative = "two.sided")$power,2)
  })
  
  output$p1 <- renderPlot({
      # draw the histogram with the specified number of bins
      ggplot(genDat(),aes(x=x)) + 
         geom_histogram(aes(y = after_stat(density))) +
         geom_density(fill = "#56B4E9", 
                      alpha=.2) +
         geom_vline(aes(xintercept = 0), 
                    color = "blue", 
                    linetype = "dashed", 
                    linewidth = 1) +
         geom_vline(aes(xintercept = mean(x)), 
                    color = "red", 
                    linewidth = 1) +
         geom_rect(aes(xmin = (mean(x) - 1.97*sd(x)/sqrt(length(x))),
                       xmax = (mean(x) + 1.97*sd(x)/sqrt(length(x))),
                       ymin=0, ymax = Inf), 
                   alpha = .01, fill = "pink") + 
      theme_xkcd() +
      labs(title = paste("Power = ", powerEst(), sep=""))
  })
</script>
 
<script type="application/shiny-prerendered" data-context="server">
library(tidyverse)
library(psych)

  genDat2 <- reactive({
      data.frame(grp=as.factor(c(rep(1,input$N1),rep(2,input$N2))), 
                 x=c(rnorm(input$N1, 
                         input$MU1, 
                         sqrt((input$SD1^2)/input$Rel1)),
                     rnorm(input$N2, 
                         input$MU2, 
                         sqrt((input$SD2^2)/input$Rel2))
                     ))
  })

  sumstats <- reactive({
    genDat2() %>%
      group_by(grp) %>%
      summarize(x=mean(x))
  })

  CohenD <- reactive({
    abs(round(cohen.d(x~grp, data=genDat2())$cohen.d[2],2))
  })
  
  powerEst2 <- reactive({
    round(pwr.t.test(n = input$N1 + input$N2, 
                     d= CohenD(),
                     type = "two.sample",
                     alternative = "two.sided")$power,2)
  })
  
  output$p2 <- renderPlot({
      # draw the histogram with the specified number of bins
      ggplot(genDat2(),aes(x=x, group = grp, fill=grp)) + 
         geom_histogram(aes(y = after_stat(density))) +
         geom_density(#fill = "#56B4E9", 
                      alpha=.2) +
        #geom_vline(aes(xintercept = 0), 
        #            color = "blue", 
        #            linetype = "dashed", 
        #            size = 1) +
         geom_vline(data = sumstats(), aes(xintercept = x,
                        color=grp)) +
         #geom_rect(aes(xmin = (mean(x) - 1.97*sd(x)/sqrt(length(x))),
        #               xmax = (mean(x) + 1.97*sd(x)/sqrt(length(x))),
        #               ymin=0, ymax = Inf), 
        #           alpha = .01, fill = "pink") + 
      theme_xkcd() +
      labs(title = paste("Power = ", powerEst2(), sep=""))
  })
</script>
 
<script type="application/shiny-prerendered" data-context="server">
#library(simpr)
#library(dplyr)

#SimResults <- reactive({
#  specify(x1 = ~ rnorm(n),
#          x2 = ~ ((1/(input$mc^2)) - 1) * x1 + rnorm(n),
#           y = ~ x1 + x2 + b3*x1*x2 + ((1/(1-input$rsq)) - 1) * rnorm(n)) %>%
  ## Define varying parameters: here, sample size and effect size
#  define(n = seq(input$SSmin, input$SSmax, by = 10),
#       b3 = seq(-1, 1, by = 0.25)) %>% 
  ## Generate 10 repetitions
#  generate(input$resamples) %>% 
  ## Fit models
#  fit(lm = ~lm(y ~ x1*x2))%>% 
  ## Tidy each simulation using broom::tidy and
  ## bind together
#  tidy_fits
#})

#powerCalcs <- reactive({
#  SimResults() %>% 
#    dplyr::filter(term %in% c("x1","x2","x1:x2")) %>%
#    group_by(n, term, g1) %>%
#    summarize(power = mean(p.value < 0.05)) 
  
  
#  results() %>%
#  filter(term %in% c("x1", "x2", "x1:x2")) %>%
#  group_by(n, b3) %>%
#  summarize(power = mean(p.value < 0.05)) 
#})
#condition_power()

#output$pMRC <- renderPlot({
#  powerCalcs() %>% 
#  ggplot(aes(n, power)) +
#  geom_line(aes(color=term)) +
#  facet_grid(~b3)
#})

</script>
 
<script type="application/shiny-prerendered" data-context="server-extras">
ojs_define <- function(..., .session = shiny::getDefaultReactiveDomain()) {
  quos <- rlang::enquos(...)
  vars <- rlang::list2(...)
  nm <- names(vars)
  if (is.null(nm)) {
    nm <- rep_len("", length(vars))
  }
  mapply(function(q, nm, val) {
    # Infer name, if possible
    if (nm == "") {
      tryCatch({
        nm <- rlang::as_name(q)
      }, error = function(e) {
        code <- paste(collapse = "\n", deparse(rlang::f_rhs(q)))
        stop("ojs_define() could not create a name for the argument: ", code)
      })
    }
    .session$output[[nm]] <- val
    outputOptions(.session$output, nm, suspendWhenHidden = FALSE)
    .session$sendCustomMessage("ojs-export", list(name = nm))
    NULL
  }, quos, nm, vars, SIMPLIFY = FALSE, USE.NAMES = FALSE)
  invisible()
}
</script>
</p>
<!--html_preserve-->
<script type="application/shiny-prerendered" data-context="dependencies">
{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-javascript"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/ion.rangeSlider.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.7.5.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["strftime"]},{"type":"character","attributes":{},"value":["0.9.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/strftime"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["strftime-min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.7.5.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-css"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["css/ion.rangeSlider.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.7.5.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-javascript"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/ion.rangeSlider.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.7.5.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["strftime"]},{"type":"character","attributes":{},"value":["0.9.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/strftime"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["strftime-min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.7.5.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-css"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["css/ion.rangeSlider.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.7.5.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-javascript"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/ion.rangeSlider.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.7.5.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["strftime"]},{"type":"character","attributes":{},"value":["0.9.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/strftime"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["strftime-min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.7.5.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-css"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["css/ion.rangeSlider.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.7.5.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-javascript"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/ion.rangeSlider.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.7.5.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["strftime"]},{"type":"character","attributes":{},"value":["0.9.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/strftime"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["strftime-min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.7.5.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-css"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["css/ion.rangeSlider.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.7.5.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-javascript"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/ion.rangeSlider.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.7.5.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["strftime"]},{"type":"character","attributes":{},"value":["0.9.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/strftime"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["strftime-min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.7.5.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-css"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["css/ion.rangeSlider.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.7.5.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-javascript"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/ion.rangeSlider.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.7.5.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["strftime"]},{"type":"character","attributes":{},"value":["0.9.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/strftime"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["strftime-min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.7.5.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-css"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["css/ion.rangeSlider.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.7.5.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-javascript"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/ion.rangeSlider.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.7.5.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["strftime"]},{"type":"character","attributes":{},"value":["0.9.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/strftime"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["strftime-min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.7.5.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-css"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["css/ion.rangeSlider.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.7.5.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-javascript"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/ion.rangeSlider.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.7.5.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["strftime"]},{"type":"character","attributes":{},"value":["0.9.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/strftime"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["strftime-min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.7.5.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-css"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["css/ion.rangeSlider.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.7.5.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-javascript"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/ion.rangeSlider.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.7.5.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["strftime"]},{"type":"character","attributes":{},"value":["0.9.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/strftime"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["strftime-min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.7.5.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-css"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["css/ion.rangeSlider.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.7.5.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-javascript"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/ion.rangeSlider.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.7.5.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["strftime"]},{"type":"character","attributes":{},"value":["0.9.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/strftime"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["strftime-min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.7.5.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-css"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["css/ion.rangeSlider.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.7.5.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-javascript"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/ion.rangeSlider.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.7.5.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["strftime"]},{"type":"character","attributes":{},"value":["0.9.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/strftime"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["strftime-min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.7.5.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-css"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["css/ion.rangeSlider.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.7.5.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-javascript"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/ion.rangeSlider.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.7.5.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["strftime"]},{"type":"character","attributes":{},"value":["0.9.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/strftime"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["strftime-min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.7.5.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-css"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["css/ion.rangeSlider.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.7.5.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-javascript"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/ion.rangeSlider.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.7.5.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["strftime"]},{"type":"character","attributes":{},"value":["0.9.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/strftime"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["strftime-min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.7.5.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-css"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["css/ion.rangeSlider.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.7.5.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-javascript"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/ion.rangeSlider.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.7.5.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["strftime"]},{"type":"character","attributes":{},"value":["0.9.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/strftime"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["strftime-min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.7.5.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-css"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["css/ion.rangeSlider.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.7.5.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-javascript"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/ion.rangeSlider.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.7.5.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["strftime"]},{"type":"character","attributes":{},"value":["0.9.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/strftime"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["strftime-min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.7.5.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-css"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["css/ion.rangeSlider.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.7.5.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-javascript"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/ion.rangeSlider.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.7.5.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["strftime"]},{"type":"character","attributes":{},"value":["0.9.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/strftime"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["strftime-min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.7.5.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-css"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["css/ion.rangeSlider.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.7.5.1"]}]}]}
</script>
<!--/html_preserve-->
<!--html_preserve-->

<script type="application/shiny-prerendered" data-context="execution_dependencies">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages","version"]},"class":{"type":"character","attributes":{},"value":["data.frame"]},"row.names":{"type":"integer","attributes":{},"value":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121]}},"value":[{"type":"character","attributes":{},"value":["backports","base","base64enc","boot","broom","bslib","cachem","checkmate","cli","cluster","codetools","colorspace","compiler","data.table","datasets","deldir","designr","digest","dplyr","ellipsis","evaluate","extrafont","extrafontdb","fansi","farver","fastmap","forcats","foreign","Formula","furrr","future","generics","ggplot2","ggthemes","globals","glue","graphics","grDevices","grid","gridExtra","gtable","Hmisc","hms","htmlTable","htmltools","htmlwidgets","httpuv","interp","jpeg","jquerylib","jsonlite","knitr","labeling","later","lattice","latticeExtra","lavaan","lifecycle","listenv","lme4","lmerTest","lubridate","magrittr","MASS","Matrix","memoise","methods","mime","minqa","mnormt","munsell","nlme","nloptr","nnet","numDeriv","parallel","parallelly","paramtest","pbivnorm","pillar","pkgconfig","png","promises","psych","purrr","pwr","quadprog","R6","RColorBrewer","Rcpp","readr","rlang","rmarkdown","rpart","rstudioapi","Rttf2pt1","sass","scales","shiny","simpr","splines","stats","stats4","stringi","stringr","survival","tibble","tidyr","tidyselect","tidyverse","timechange","tools","tzdb","utf8","utils","vctrs","withr","xfun","xkcd","xtable","yaml"]},{"type":"character","attributes":{},"value":["1.4.1","4.2.2","0.1-3","1.3-28.1","1.0.5","0.5.1.9000","1.0.8","2.1.0","3.6.1","2.1.4","0.2-19","2.1-0","4.2.2","1.14.6","4.2.2","1.0-6","0.1.13","0.6.33","1.1.3","0.3.2","0.20","0.19","1.0","1.0.4","2.1.1","1.1.1","1.0.0","0.8-84","1.2-4","0.3.1","1.31.0","0.1.3","3.4.4","4.2.4","0.16.2","1.6.2","4.2.2","4.2.2","4.2.2","2.3","0.3.1","4.8-0","1.1.2","2.4.1","0.5.7","1.6.1","1.6.9","1.1-3","0.1-10","0.1.4","1.8.7","1.42","0.4.2","1.3.0","0.20-45","0.6-30","0.6-16","1.0.4","0.9.0","1.1-31","3.1-3","1.9.2","2.0.3","7.3-58.2","1.5-3","2.0.1","4.2.2","0.12","1.2.5","2.1.1","0.5.0","3.1-162","2.0.3","7.3-18","2016.8-1.1","4.2.2","1.34.0","0.1.0","0.6.0","1.9.0","2.0.3","0.1-8","1.2.0.1","2.3.9","1.0.2","1.3-0","1.5-8","2.5.1","1.1-3","1.0.10","2.1.4","1.1.2","2.20","4.1.19","0.15.0","1.3.12","0.4.7","1.2.1","1.7.5.1","0.2.6","4.2.2","4.2.2","4.2.2","1.7.12","1.5.0","3.5-3","3.2.1","1.3.0","1.2.0","2.0.0","0.2.0","4.2.2","0.3.0","1.2.3","4.2.2","0.6.4","2.5.0","0.37","0.0.6","1.8-4","2.3.7"]}]}]}
</script>
<!--/html_preserve-->
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div id="quarto-reuse" class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">https://creativecommons.org/licenses/by/4.0/</a></div></div></section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>